<!--
/*
*******************************************************************************
* Copyright (C) 2006, International Business Machines Corporation and    *
* others. All Rights Reserved.                                                *
*******************************************************************************
* This is the ant build file for ICU tools. 
*/
-->
<project>
    <!--
         A utility to report the status change between two ICU releases

        To use the utility
        1. Generate the XML files
            (put the two ICU releases on your machine ^_^ )
            (generate 'Doxygen' file on Windows platform with Cygwin's help)
            Edit the generated 'Doxygen' file under ICU4C source directory
            a) GENERATE_XML           = YES
            b) Sync the ALIASES definiation
               (For example, copy the ALIASES defination from ICU 3.6
               Doxygen file to ICU 3.4 Doxygen file.)
            c) gerenate the XML files
        2. Build the tool
            ant doctools
        3. Edit the api-report-config.xml file & change the sections marked UPDATE ME  according your real configuration
        4. Run the tool to generate the report
            ant apireport
    -->
    <target name="apireport" depends="doctools">    
        <java classname="com.ibm.icu.dev.tools.docs.StableAPI" fork="yes" failonerror="true">
            
            <arg value = "--oldver"/>
            <arg value = "ICU 3.4"/><!-- UPDATE ME -->
            
            <arg value = "--olddir"/> 
            <arg value = "/work/clean/icu-3-4/source/doc/xml/"/> <!-- UPDATE ME -->
            
            <arg value = "--newver"/>
            <arg value = "ICU 3.6"/><!-- UPDATE ME -->
            
            <arg value = "--newdir"/>
            <arg value = "/work/clean/icu-3-6/source/doc/xml/"/><!-- UPDATE ME -->
            
            <arg value = "--cppxslt"/>
            <arg value = "${basedir}/src/com/ibm/icu/dev/tools/docs/dumpAllCppFunc.xslt"/>
            
            <arg value = "--cxslt"/>
            <arg value = "${basedir}/src/com/ibm/icu/dev/tools/docs/dumpAllCFunc.xslt"/>
            
            <arg value = "--reportxslt"/>
            <arg value = "${basedir}/src/com/ibm/icu/dev/tools/docs/genReport.xslt"/>
            
            <arg value = "--resultfile"/>
            <arg value = "${basedir}/APIChangeReport.html"/>
    
            <classpath>
                <pathelement location="${build.dir}"/>
                <pathelement path="${java.class.path}/"/>
                <pathelement path="."/>
            </classpath>
        </java>
    </target>
</project>